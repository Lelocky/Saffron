@using System.Security.Claims

<BSNavbar Color="BSColor.Dark" IsDark="true">
    <BSContainer Container="Container.Fluid">
        <BSNavbarBrand>
            <img class="header-logo" src="../images/header-logo.png" alt="Saffron">
        </BSNavbarBrand>
        <BSCollapse IsInNavbar="true">
            <Toggler>
                <BSNavbarToggle />
            </Toggler>
            <Content>
                <BSNav MarginEnd="Margins.Auto" MarginBottom="Margins.Small" Class="mb-lg-0">
                    <BSNavItem IsActive="true" Url="/">Home</BSNavItem>
                    <AuthorizeView>
                        <Authorized>
                            <BSNavItem Url="calendar">Calendar</BSNavItem>
                        </Authorized>
                    </AuthorizeView>
                    <AuthorizeView Policy="ManagementOnly">
                        <Authorized>
                            <BSNavItem Url="users">Users</BSNavItem>
                            <BSNavItem IsDropdown="true">
                                <BSDropdown>
                                    <Toggler><BSToggle IsNavLink="true">Manage</BSToggle></Toggler>
                                    <Content>
                                        <BSDropdownItem Url="manage/application">Application</BSDropdownItem>
                                        <BSDropdownItem Url="manage/bot">Bot</BSDropdownItem>
                                        
                                    </Content>
                                </BSDropdown>
                            </BSNavItem>
                        </Authorized>
                    </AuthorizeView>
                </BSNav>
                <BSNav Justify="Justify.End">
                    <AuthorizeView>
                        <Authorized>
                            <BSNavItem Url="profile">@context.User.GetNickname()</BSNavItem>
                            <BSNavItem Url="/Identity/Account/Logout">Logout</BSNavItem>
                        </Authorized>
                        <NotAuthorized>
                            <BSNavItem Url="Identity/Account/Login">Login with Discord</BSNavItem>
                        </NotAuthorized>
                    </AuthorizeView>
                </BSNav>
            </Content>
        </BSCollapse>
    </BSContainer>
</BSNavbar>